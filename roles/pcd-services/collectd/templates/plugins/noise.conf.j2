## {{ collectd_config_dir }}/noise.conf generated by Ansible

####
## Filter out noise / unused metrics
##  useful to keep librato metrics to bare minimum

LoadPlugin match_regex

<Chain "PostCache">
  <Rule> # exclude cpu interrupts, nice
    <Match regex>
      Plugin "^cpu$"
      TypeInstance "^interrupt|nice|softirq"
    </Match>
    Target stop
  </Rule>
  
  <Rule> # ignore cached and buffered memory
    <Match regex>
      Plugin "^memory$"
      TypeInstance "^cached|buffered"
    </Match>
    Target stop
  </Rule>
  
  <Rule> # Send "cpu" values to the aggregation plugin.
    <Match regex>
      Plugin "^cpu$"
    </Match>
    <Target write>
      Plugin "aggregation"
    </Target>
    Target stop
  </Rule>
  
  <Rule> # limit interface to octets (traffic)
    <Match regex>
      Plugin "^interface$"
      Type "^if_packets|if_errors$"
    </Match>
    Target stop
  </Rule>
  
  <Rule> # ignore reserved disk space
    <Match regex>
      Plugin "^df$"
      TypeInstance "^reserved"
    </Match>
    Target stop
  </Rule>
  
  Target "write"
</Chain>
